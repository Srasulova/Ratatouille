{% extends 'base.html' %} {% block content %}

<div class="mx-auto max-w-5xl py-12 flex space-x-10">
  <div class="max-w-sm mx-auto sm:mx-0">
    <img
      class="aspect-[2/3] w-full h-auto rounded-xl object-cover"
      src="{{user.image_url}}"
      alt=""
    />
    <h3 class="mt-6 text-lg font-semibold leading-8 text-gray-900">
      {{user.username}}
    </h3>
    <!-- User's favorite, wishlisted and visited restaurants -->

    <div class="flex space-x-4 items-center justify-start mt-4">
      <!-- Wishlisted/ heart icon -->
      <div class="flex flex-col items-center justify-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="#dc2626"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="white"
          class="size-7"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
          />
        </svg>
        <p>{{ user.wishlist_restaurants | length }}</p>
      </div>

      <!-- Visited/ location icon -->
      <div class="flex flex-col items-center justify-center">
        <svg class="size-7" stroke="white" fill="#65a30d" stroke-width="1.5" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg"><path d="M12 22s8.029-5.56 8-12c0-4.411-3.589-8-8-8S4 5.589 4 9.995C3.971 16.44 11.696 21.784 12 22zM8 9h3V6h2v3h3v2h-3v3h-2v-3H8V9z"></path></svg>
        <p>{{ user.visited_restaurants | length }}</p>
      </div>

      <!-- Favorite/ thumb up icon -->
      <div class="flex flex-col items-center justify-center">
        <svg
          stroke="white"
          fill="#ea580c"
          stroke-width="1.5"
          viewBox="0 0 24 24"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="size-7"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"
          ></path>
        </svg>
        <p>{{ user.favorites_restaurants | length }}</p>
      </div>
    </div>

    <p class="mt-4 text-base leading-7 text-gray-600">
      Praesentium iure error aliquam voluptas ut libero. Commodi placeat sit
      iure nulla officiis. Ut ex sit repellat tempora. Qui est accusamus
      exercitationem natus ut voluptas. Officiis velit eos ducimus.
    </p>

    <div class="mt-6 flex items-center gap-x-1.5">
      <a
        href="#"
        id="edit-user-button"
        class="rounded-md bg-orange-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-orange-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-600"
        >Edit your profle</a
      >
    </div>
  </div>

  <!-- User's lists, first 5 results of each -->

  <div class="w-full flex flex-col">
    <p class="text-center text-orange-600 font-bold text-2xl">Some of your restaurant lists</p>
    

        <!-- Visited restaurants -->
    
        <div class="w-full">
          {% if visited %}
          <div class="mx-auto w-full inline-flex items-center flex-col mt-10">
            <h3 class="text-xl font-semibold text-lime-700 mb-4">
              Restaurants you visited
            </h3>
            <ul class="">
              {% for visit in  visited %}
              {% if loop.index <= 5 %}
              <li class="text-lg font-medium text-gray-900 flex items-center py-2">
                <p class="">{{ visit.restaurant.name }}</p>
                  <!-- Delete icon -->
                  <form
                    action="{{ url_for('delete_visited', restaurant_id=visit.restaurant.id) }}"
                    method="POST"
                  >
                    <button type="submit" class="bg-transparent border-0">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                      </svg>
                      
                    </button>
                  </form>
              </li>
              {% endif %}
              {% endfor %}
            </ul>
          </div>
          {% endif %}
        </div>


        <div class="flex space-x-6 mt-8">
    <!-- Wishlisted restaurants -->

    <div class="w-full">
      {% if wishlisted %}
      <div class="mx-auto w-full inline-flex items-center flex-col">
        <h3 class="text-xl font-semibold text-lime-700 mb-4">
          Restaurants in your wish list
        </h3>
        <ul class="">
          {% for wish in wishlisted %}
          <li class="text-lg font-medium text-gray-900 flex items-center py-2">
            {{ wish.restaurant.name }}
            <div
              class="svg-elements flex space-x-2 items-center justify-center ml-8"
            >
              <!-- Wishlist/ heart icon -->
    
              <form
                action="{{ url_for('delete_wishlist', restaurant_id=wish.restaurant.id) }}"
                method="POST"
              >
                <button type="submit" class="bg-transparent border-0">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                  </svg>
                  
                </button>
              </form>
            </div>
    
           
          </li>
    
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </div>

       <!-- Favorite restaurants -->
    
       <div class="w-full">
        {% if favorites %}
        <div class="mx-auto w-full inline-flex items-center flex-col">
          <h3 class="text-xl font-semibold text-lime-700 mb-4">
            Your favorite restaurants
          </h3>
          <ul class="">
            {% for fav in favorites %}
            <li class="text-lg font-medium text-gray-900 flex items-center py-2">
              {{fav.restaurant.name}}
              <div
                class="svg-elements flex space-x-2 items-center justify-center ml-8"
              >
                <!-- Favorite/thumbs up icon  -->
                <form
                  action="{{ url_for('delete_favorite', restaurant_id=fav.restaurant.id) }}"
                  method="POST"
                >
                  <button type="submit" class="bg-transparent border-0">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                    </svg>
                    
                  </button>
                </form>
              </div>
            </li>
      
            {% endfor %}
          </ul>
        </div>
        {% endif %}
      </div>
        </div>

    <a  href="{{ url_for('show_my_lists', user_id=g.user.id) }}" class="mx-auto my-8">
      <button type="submit"
        class="w-full bg-white border border-lime-700 text-lime-700 text-sm  font-medium py-1 px-2 rounded focus:outline-none focus:shadow-outline">View more</button>
    </a>
        

    <a  href="{{ url_for('show_search_restaurants', user_id=g.user.id) }}" class="mx-auto my-8">
      <button type="submit"
        class="w-full bg-orange-600 hover:bg-orange-700 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Search restaurants </button>
    </a>
 
  </div>

</div>

{% endblock %}
