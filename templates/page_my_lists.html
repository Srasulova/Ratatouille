{% extends "base.html" %} {% block content %}

<div class="max-w-5xl mx-auto">

  <!-- Visited restaurants -->

<!-- <div class="w-full">
  {% if visited %}
  <div class="mx-auto w-full inline-flex items-center flex-col">
    <h3 class="text-2xl font-bold text-lime-700 mb-4">
      Restaurants you visited
    </h3>
    <ul class="">
      {% for visit in visited %}
      <li class="text-lg font-medium text-gray-900 flex items-center py-2">
        {{ visit.restaurant.name }}
        <div
          class="svg-elements flex space-x-2 items-center justify-center ml-8">
          <form
            action="{{ url_for('delete_visited', restaurant_id=visit.restaurant.id) }}"
            method="POST">
            <button type="submit" class="bg-transparent border-0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
              </svg>     
            </button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div> -->

<div class="w-full">
  {% if visited %}
  <div class="mx-auto w-full inline-flex items-center flex-col">
    <h3 class="text-2xl font-bold text-lime-700 mb-4">
      Restaurants you visited
    </h3>
    <ul class="">
      {% for visit, reviews in visited_with_reviews %}
      <li class="text-lg font-medium text-gray-900 flex flex-col py-2">
        <div class="flex items-center">
          {{ visit.restaurant.name }}
          <div class="svg-elements flex space-x-2 items-center justify-center ml-8">
            <!-- Delete visited place/location icon -->
            <form
              action="{{ url_for('delete_visited', restaurant_id=visit.restaurant.id) }}"
              method="POST"
            >
              <button type="submit" class="bg-transparent border-0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                </svg>
              </button>
            </form>
          </div>
        </div>

        <!-- Display reviews if there are any -->
        {% if reviews %}
        <div class="reviews mt-2">
          <h4 class="text-medium font-semibold text-orange-600">Reviews:</h4>
          {% for review in reviews %}
          <div class="review mb-2">
            <p class="review-content">{{ review.content }}</p>
            <p class="review-timestamp text-sm text-gray-500">{{ review.timestamp.strftime('%Y-%m-%d %H:%M') }}</p>
          </div>
          {% endfor %}
        </div>
        {% else %}
        <p class="no-reviews text-sm text-gray-500">No reviews yet.</p>
        {% endif %}

        <hr />
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>


<div class="flex space-x-8 mt-10">
  <!-- Wishlisted restaurants -->

<div class="w-full ">
  {% if wishlisted %}
  <div class="mx-auto w-full inline-flex items-center flex-col">
    <h3 class="text-2xl font-bold text-lime-700 mb-4">
      Restaurants in your wish list
    </h3>
    <ul class="">
      {% for wish in wishlisted %}
      <li class="text-lg font-medium text-gray-900 flex items-center py-2">
        {{ wish.restaurant.name }}
        <div
          class="svg-elements flex space-x-2 items-center justify-center ml-8"
        >
          <!-- Wishlist/ heart icon -->

          <form
            action="{{ url_for('delete_wishlist', restaurant_id=wish.restaurant.id) }}"
            method="POST"
          >
            <button type="submit" class="bg-transparent border-0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
              </svg>
              
            </button>
          </form>
        </div>

       
      </li>

      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

<!-- Favorite restaurants -->

<div class="w-full">
  {% if favorites %}
  <div class="mx-auto w-full inline-flex items-center flex-col">
    <h3 class="text-2xl font-bold text-lime-700 mb-4">
      Your favorite restaurants
    </h3>
    <ul class="">
      {% for fav in favorites %}
      <li class="text-lg font-medium text-gray-900 flex items-center py-2">
        {{fav.restaurant.name}}
        <div
          class="svg-elements flex space-x-2 items-center justify-center ml-8"
        >
          <!-- Favorite/thumbs up icon  -->
          <form
            action="{{ url_for('delete_favorite', restaurant_id=fav.restaurant.id) }}"
            method="POST"
          >
            <button type="submit" class="bg-transparent border-0">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
              </svg>
              
            </button>
          </form>
        </div>
      </li>

      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>
</div>

</div>





{% endblock %}
